import json
import pyrogram
from pyrogram import Client, filters
import requests
from pyrogram.types import InlineKeyboardMarkup, InlineKeyboardButton
import re

FontsList = {
  "Small caps" : ['·¥Ä',' ô','·¥Ñ','·¥Ö','·¥á','“ì','…¢',' ú','…™','·¥ä','·¥ã',' ü','·¥ç','…¥','·¥è','·¥ò','«´',' Ä','s','·¥õ','·¥ú','·¥†','·¥°','x',' è','·¥¢','ùü∂','ùü∑','ùü∏','ùüπ','ùü∫','ùüª','ùüº','ùüΩ','ùüæ','ùüø','·¥Ä',' ô','·¥Ñ','·¥Ö','·¥á','“ì','…¢',' ú','…™','·¥ä','·¥ã',' ü','·¥ç','…¥','·¥è','·¥ò','«´',' Ä','s','·¥õ','·¥ú','·¥†','·¥°','x',' è','·¥¢',' '],
  "Currency" : ['‚Ç≥','‡∏ø','‚Çµ','ƒê','…Ü','‚Ç£','‚Ç≤','‚±ß','≈Ç','J','‚Ç≠','‚±†','‚Ç•','‚Ç¶','√ò','‚Ç±','Q','‚±§','‚Ç¥','‚ÇÆ','…Ñ','V','‚Ç©','”æ','…é','‚±´','0','1','2','3','4','5','6','7','8','9','‚Ç≥','‡∏ø','‚Çµ','ƒê','…Ü','‚Ç£','‚Ç≤','‚±ß','≈Ç','J','‚Ç≠','‚±†','‚Ç•','‚Ç¶','√ò','‚Ç±','Q','‚±§','‚Ç¥','‚ÇÆ','…Ñ','V','‚Ç©','”æ','…é','‚±´',' '],
  "Double Struck" : ['ùî∏','ùîπ','‚ÑÇ','ùîª','ùîº','ùîΩ','ùîæ','‚Ñç','ùïÄ','ùïÅ','ùïÇ','ùïÉ','ùïÑ','‚Ñï','ùïÜ','‚Ñô','‚Ñö','‚Ñù','ùïä','ùïã','ùïå','ùïç','ùïé','ùïè','ùïê','‚Ñ§','ùüò','ùüô','ùüö','ùüõ','ùüú','ùüù','ùüû','ùüü','ùü†','ùü°','ùïí','ùïì','ùïî','ùïï','ùïñ','ùïó','ùïò','ùïô','ùïö','ùïõ','ùïú','ùïù','ùïû','ùïü','ùï†','ùï°','ùï¢','ùï£','ùï§','ùï•','ùï¶','ùïß','ùï®','ùï©','ùï™','ùï´',' '],
  "Antrophobia" : ['Œ±','–≤','¬¢','‚àÇ','—î','f','g','–Ω','Œπ','◊†','–∫','‚Ñì','–º','–∏','œÉ','œÅ','q','—è','—ï','—Ç','œÖ','ŒΩ','œâ','œá','—É','z','0','1','2','3','4','5','6','7','8','9','Œ±','–≤','¬¢','‚àÇ','—î','f','g','–Ω','Œπ','◊†','–∫','‚Ñì','–º','–∏','œÉ','œÅ','q','—è','—ï','—Ç','œÖ','ŒΩ','œâ','œá','—É','z',' '],
  "Bubble" : ['‚í∂','‚í∑','‚í∏','‚íπ','‚í∫','‚íª','‚íº','‚íΩ','‚íæ','‚íø','‚ìÄ','‚ìÅ','‚ìÇ','‚ìÉ','‚ìÑ','‚ìÖ','‚ìÜ','‚ìá','‚ìà','‚ìâ','‚ìä','‚ìã','‚ìå','‚ìç','‚ìé','‚ìè','‚ì™','‚ë†','‚ë°','‚ë¢','‚ë£','‚ë§','‚ë•','‚ë¶','‚ëß','‚ë®','‚ìê','‚ìë','‚ìí','‚ìì','‚ìî','‚ìï','‚ìñ','‚ìó','‚ìò','‚ìô','‚ìö','‚ìõ','‚ìú','‚ìù','‚ìû','‚ìü','‚ì†','‚ì°','‚ì¢','‚ì£','‚ì§','‚ì•','‚ì¶','‚ìß','‚ì®','‚ì©',' '],
  "Invisible Ink" : ['A“â','B“â','C“â','D“â','E“â','F“â','G“â','H“â','I“â','J“â','K“â','L“â','M“â','N“â','O“â','P“â','Q“â','R“â','S“â','T“â','U“â','V“â','W“â','X“â','Y“â','Z“â','0“â','1“â','2“â','3“â','4“â','5“â','6“â','7“â','8“â','9“â','a“â','b“â','c“â','d“â','e“â','f“â','g“â','h“â','i“â','j“â','k“â','l“â','m“â','n“â','o“â','p“â','q“â','r“â','s“â','t“â','u“â','v“â','w“â','x“â','y“â','z“â',' “â'],
  "Fraktur" : ['ùîÑ','ùîÖ','‚Ñ≠','ùîá','ùîà','ùîâ','ùîä','‚Ñå','‚Ñë','ùîç','ùîé','ùîè','ùîê','ùîë','ùîí','ùîì','ùîî','‚Ñú','ùîñ','ùîó','ùîò','ùîô','ùîö','ùîõ','ùîú','‚Ñ®','÷Ö','’µ','’∑','’Ö','’Ø','’è','’≥','‘¥','’ë','’£','ùîû','ùîü','ùî†','ùî°','ùî¢','ùî£','ùî§','ùî•','ùî¶','ùîß','ùî®','ùî©','ùî™','ùî´','ùî¨','ùî≠','ùîÆ','ùîØ','ùî∞','ùî±','ùî≤','ùî≥','ùî¥','ùîµ','ùî∂','ùî∑',' '],
  "Bold Fraktur Font" : ['ùï¨','ùï≠','ùïÆ','ùïØ','ùï∞','ùï±','ùï≤','ùï≥','ùï¥','ùïµ','ùï∂','ùï∑','ùï∏','ùïπ','ùï∫','ùïª','ùïº','ùïΩ','ùïæ','ùïø','ùñÄ','ùñÅ','ùñÇ','ùñÉ','ùñÑ','ùñÖ','÷Ö','’µ','’∑','’Ö','’Ø','’è','’≥','‘¥','’ë','’£','ùñÜ','ùñá','ùñà','ùñâ','ùñä','ùñã','ùñå','ùñç','ùñé','ùñè','ùñê','ùñë','ùñí','ùñì','ùñî','ùñï','ùññ','ùñó','ùñò','ùñô','ùñö','ùñõ','ùñú','ùñù','ùñû','ùñü',' '],
  "Fantasy Font" : ['Í™ñ','Í™â','·®∂','·¶î','Í´Ä','·†ª','·¶ã','Í´ù','·ªâ','·ßí','∆ô','Í™∂','Í™ë','·≠¢','Í™Æ','·©è','·ßÅ','Í™π','‡∞ï','·°∂','Í™ä','Í™ú','·≠ô','·•ä','Í™ó','…Ä','‡©¶','‡±π','‡©®','‡©©','‡©´','∆º','œ¨','‘¥','‡©™','‡©ß','Í™ñ','Í™â','·®∂','·¶î','Í´Ä','·†ª','·¶ã','Í´ù','·ªâ','·ßí','∆ô','Í™∂','Í™ë','·≠¢','Í™Æ','·©è','·ßÅ','Í™π','‡∞ï','·°∂','Í™ä','Í™ú','·≠ô','·•ä','Í™ó','…Ä',' '],
  "Flaky Font" : ['·ó©','·ó∑','·ëï','·ó™','·ó¥','·ñ¥','«§','·ïº','I','·íé','·õï','·í™','·ó∞','·ëé','·óù','·ë≠','…ä','·ñá','·îï','‰∏Ö','·ëå','·êØ','·óØ','·ô≠','∆≥','‰πô','‡©¶','‡±π','‡©®','‡©©','‡©´','∆º','œ¨','‘¥','‡©™','‡©ß','·ó©','·ó∑','·ëï','·ó™','·ó¥','·ñ¥','«§','·ïº','I','·íé','·õï','·í™','·ó∞','·ëé','·óù','·ë≠','…ä','·ñá','·îï','‰∏Ö','·ëå','·êØ','·óØ','·ô≠','∆≥','‰πô',' '],
  "Manga Font" : ['ÂçÇ','‰πÉ','Âåö','·ó™','‰πá','ÂçÉ','·é∂','ÂçÑ','‰∏®','Ôæå','“ú','„Ñ•','Áà™','Âá†','„Ññ','Âç©','“®','Â∞∫','‰∏Ç','„Ñí','„Ñ©','·êØ','Â±±','‰πÇ','„Ñö','‰πô','‡©¶','‡±π','‡©®','‡©©','‡©´','∆º','œ¨','‘¥','‡©™','‡©ß','ÂçÇ','‰πÉ','Âåö','·ó™','‰πá','ÂçÉ','·é∂','ÂçÑ','‰∏®','Ôæå','“ú','„Ñ•','Áà™','Âá†','„Ññ','Âç©','“®','Â∞∫','‰∏Ç','„Ñí','„Ñ©','·êØ','Â±±','‰πÇ','„Ñö','‰πô',' '],
  "Block Font" : ['üá¶‚Äå','üáß‚Äå','üá®‚Äå','üá©‚Äå','üá™‚Äå','üá´‚Äå','üá¨‚Äå','üá≠‚Äå','üáÆ‚Äå','üáØ‚Äå','üá∞‚Äå','üá±‚Äå','üá≤‚Äå','üá≥‚Äå','üá¥‚Äå','üáµ‚Äå','üá∂‚Äå','üá∑‚Äå','üá∏‚Äå','üáπ‚Äå','üá∫‚Äå','üáª‚Äå','üáº‚Äå','üáΩ‚Äå','üáæ‚Äå','üáø‚Äå','0','1','2','3','4','5','6','7','8','9','üá¶‚Äå','üáß‚Äå','üá®‚Äå','üá©‚Äå','üá™‚Äå','üá´‚Äå','üá¨‚Äå','üá≠‚Äå','üáÆ‚Äå','üáØ‚Äå','üá∞‚Äå','üá±‚Äå','üá≤‚Äå','üá≥‚Äå','üá¥‚Äå','üáµ‚Äå','üá∂‚Äå','üá∑‚Äå','üá∏‚Äå','üáπ‚Äå','üá∫‚Äå','üáª‚Äå','üáº‚Äå','üáΩ‚Äå','üáæ‚Äå','üáø‚Äå',' '],
  "Black bubble Font" : ['üÖê','üÖë','üÖí','üÖì','üÖî','üÖï','üÖñ','üÖó','üÖò','üÖô','üÖö','üÖõ','üÖú','üÖù','üÖû','üÖü','üÖ†','üÖ°','üÖ¢','üÖ£','üÖ§','üÖ•','üÖ¶','üÖß','üÖ®','üÖ©','‚ìø','‚ûä','‚ûã','‚ûå','‚ûç','‚ûé','‚ûè','‚ûê','‚ûë','‚ûí','üÖê','üÖë','üÖí','üÖì','üÖî','üÖï','üÖñ','üÖó','üÖò','üÖô','üÖö','üÖõ','üÖú','üÖù','üÖû','üÖü','üÖ†','üÖ°','üÖ¢','üÖ£','üÖ§','üÖ•','üÖ¶','üÖß','üÖ®','üÖ©',' '],
  "Bold Script Font" : ['ùìê','ùìë','ùìí','ùìì','ùìî','ùìï','ùìñ','ùìó','ùìò','ùìô','ùìö','ùìõ','ùìú','ùìù','ùìû','ùìü','ùì†','ùì°','ùì¢','ùì£','ùì§','ùì•','ùì¶','ùìß','ùì®','ùì©','0','1','2','3','4','5','6','7','8','9','ùì™','ùì´','ùì¨','ùì≠','ùìÆ','ùìØ','ùì∞','ùì±','ùì≤','ùì≥','ùì¥','ùìµ','ùì∂','ùì∑','ùì∏','ùìπ','ùì∫','ùìª','ùìº','ùìΩ','ùìæ','ùìø','ùîÄ','ùîÅ','ùîÇ','ùîÉ',' '],
  "Wierd Font" : ['AÃ∂ÃµÃáÃóÃ≥','BÕÑÃÜÃöÃêÃÑÃüÕú','CÃ∏ÃíÃàÕäÃ£Ã≠ÕñÃ§Õü','DÃáÕ•Ã§ÕáÃÆÕô','EÃ∏Õ®ÃÄÃñÃ™Ã±ÕöÕú','FÃµÃÅÃêÃ¶Ã∫ÕïÕü','GÃàÕÄÕòÕòÃõÕîÕáÃûÃπÕü','HÃ∂ÃíÕ•ÕëÕÉÃ™Õç','IÃ∂Ã¥Õ®Õ≠ÃâÃóÃóÃ¶ÕçÕ¢Õü','JÃ∏ÃøÕóÃïÕëÃáÃ™Ã´Ã´Ã©ÃßÕü','KÃêÃåÃ¶ÃñÃôÃ±ÃÆ','LÃÖÃäÃ≥ÕàÕâ','MÃ∂Ã∑ÃäÕ•ÕãÃ≤Õü','NÕ¨ÃΩÃ∞ÃúÕâÕîÕ¢','OÃµÃ∑Õ©ÕÜÕÖÃ™Ã∞','PÃÄÕäÃòÕé','QÃ∏Õ¨ÕâÃ∞Ã∞Ã®','RÃ¥ÃàÃÑÕûÃ™Ãß','SÃµÃ∂ÃÑÕëÃÆÃ¨ÕñÕü','TÃ∑ÃíÃÅÃ´ÕâÃ∞Õï','UÃ∏ÃïÃ´Ã†Ã∞Õà','VÃ∑ÃàÕ´ÕùÃ¨Õ¢Õ¢','WÃ∏ÕØÃæÃíÃøÕà','XÃ∏ÃµÕ¶ÃíÕ£Ã®','YÃµÃ∑ÃÖÃõÕÅÃïÃ§Õç','ZÃ¥ÃãÃäÕáÕñÕìÃ®','0Ã¥ÃîÕòÃΩÃîÕõÃ´ÕôÕôÃ™','1Ã∑Ã∏ÃêÃïÕÇÃ´','2ÃïÃíÃåÃÇÃ±ÃúÃ•Õü','3ÃµÃ∑ÃΩÃãÃóÕôÃ∞ÃßÕü','4Ã∑ÕßÕ©ÃàÃÄÃ±Õ¢Õú','5Ã∏Ã∑ÃΩÃèÕ•Õ§Õá','6Ã∂Ã¥ÕßÃìÕãÃÑÕ°Ã±','7Õ©ÕàÕáÃôÃ§Ã®Õú','8Ã∑Ã¥ÃÖÃëÕ¨ÕÉÃπÕü','9Ã∂ÃµÕëÕåÕûÃú','aÃ∂Ã∏ÃÜÕ¶ÕäÃøÕãÕûÃù','bÃµÃ∏ÃÖÃΩÕ°ÕÖÕô','cÃ∑ÕãÃÅÃÉÃπÕñ','dÃ∏ÃîÕ•Ã©Ã°ÕçÕú','eÃ∑ÃµÃÜÃäÃñÃ®ÃßÃ´Ãó','fÃ∑ÃµÃâÃ´ÃûÕ¢','gÃ¥Ã∂ÃõÕ†ÃÆÃ£Õô','hÃ∂ÃøÃìÃØÃ∞ÃùÃªÕ¢','iÃµÃéÕìÕôÃ±ÕöÕü','jÃéÕØÕâÃßÃ∫Ã§','kÃ∂Ã∏ÕÜÕôÃ≠ÃπÕü','lÃ∏ÕßÕëÕÉÃìÕÄÕ°Ã±Õà','mÃ∂Ã∑Õ™ÃΩÕ°Õî','nÃ∑Ã∂ÃäÃΩÕòÃêÕ¶ÃØÕâ','oÃ∏ÃèÃöÃêÃÆÕöÃ¢Ã¢','pÃ∂Ã∏ÕäÃçÃíÃìÕÄÃ∫Ã®','qÃ∑Õ£ÕëÃåÃùÕ¢','rÃ∂Ã∑ÕêÃæÃÄÃ≤ÕçÃ≠Õü','sÃãÕõÃ©ÕôÕñÕü','tÃ¥ÕÄÕïÕñÕì','uÃ∂ÃÇÃΩÃøÕÜÃàÕô','vÃ∏ÃµÕÜÃàÕ§ÃùÕô','wÃ∑Ã∑ÃàÃíÃüÕáÕàÃ¢','xÃ∑Ã∂ÃîÕöÕñÕìÃò','yÕëÃÅÃÅÃìÕÅÃØÃ§','zÃΩÃÉÕòÕïÕìÃºÃº',' '],
}
  
  #"Bold " : [],
AlphabetList =  "ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz "
FontInOnePage = 10
async def GenerateSingleButton(Text,callback_data):
  Button = InlineKeyboardButton(Text,callback_data=callback_data)
  return Button

async def CreateFontFromText(Text,Font_Name):
  GetFontList = FontsList[Font_Name]
  TextCharchaterList = list(f"{Text}")
  TextWithFont = ""
  for i in TextCharchaterList:
    try:
      position = AlphabetList.index(i)
      CharcheterInF9nt = GetFontList[position]
      TextWithFont+=f"{CharcheterInF9nt}"
    except Exception as e:
      TextWithFont+=f"{i}"
  TextWithFont+=""
  return TextWithFont
  
def split_dict(d,n):
  keys = list(d.keys())
  for i in range(0, len(keys), n):
    yield {k: d[k] for k in keys[i: i + n]}

async def GetPageOfFont(PageNo):
  Total_Pages = []
  for item in split_dict(FontsList, FontInOnePage):
    Total_Pages.append(item)
  return Total_Pages[PageNo]
    
async def GetTotalPageAfterSplit():
  TotalFont = len(FontsList)
  q = TotalFont//FontInOnePage
  mod = TotalFont % FontInOnePage
  if mod >= 1:
    q=+1
  return q

async def MakePrevNextKeyboardForFont(TotalPageFormed,CurrentPage):
  ButtonList = []
  print(TotalPageFormed)
  print(CurrentPage)
  x1 = InlineKeyboardButton("‚èÆÔ∏è",callback_data="['ChangePage','0']")
  if int(CurrentPage) in [0]:
    pass
  else:
    ButtonList.append(x1)
  x2 = InlineKeyboardButton("‚óÄÔ∏è",callback_data="['ChangePage','"+str(CurrentPage-1)+"']")
  if int(CurrentPage) in [0,1]:
    pass
  else:
    ButtonList.append(x2)
  x3 = InlineKeyboardButton("‚ñ∂Ô∏è",callback_data="['ChangePage','"+str(CurrentPage+1)+"']")
  if int(CurrentPage) in [int(TotalPageFormed),int(TotalPageFormed)-1]:
    pass
  else:
    ButtonList.append(x3)
  x4 = InlineKeyboardButton("‚è≠Ô∏è",callback_data="['ChangePage','"+str(TotalPageFormed)+"']")
  if int(CurrentPage) in [int(TotalPageFormed)]:
    pass
  else:
    ButtonList.append(x4)
  return ButtonList
  
async def GenerateButtonForF9ntList(Page_No):
  ButtonList = []
  TotalPageFormed = await GetTotalPageAfterSplit()
  PageOfFonts = await GetPageOfFont(Page_No)
  for Font_Name in PageOfFonts:
    Data = await CreateFontFromText(Font_Name,Font_Name)
    NewBtn = await GenerateSingleButton(Data,"['CF','" + Font_Name + "']")
    ButtonList.append(NewBtn)
  FinalKeyboard = [ButtonList[i:i+2] for i in range(0, len(ButtonList), 2)]
  x = InlineKeyboardButton("üîô",callback_data="STARTFonting")
  BackPreclvBtn =  await MakePrevNextKeyboardForFont(TotalPageFormed,0)
  FinalKeyboard.append(BackPreclvBtn)
  FinalKeyboard.append([x])
  NewKeyBoard = InlineKeyboardMarkup(FinalKeyboard)
  return NewKeyBoard
